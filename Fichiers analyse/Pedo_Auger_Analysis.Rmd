---
title: "pedo_Auger_Analsysis"
author: "EmilieSanvito"
date: "2023-10-05"
output: html_document
---


```{r libraries}

library(tidyverse)
library(readxl)

```

```{r upload and structure data}

dataAugur2022 <- read_excel("DataAuger2022.xlsx", na = "NA")   #import data from last year project (36 augur in the P16)
dataBotany2022 <- read_excel("DataAuger2022.xlsx", na = "NA", sheet = "Data Giacomo")  #import botany data

Augur_NA <- dataAugur2022 %>% filter(Classification == "Drainage latéral superficiel") %>% select(c("sondage_N", "Texture corrigée 2023", "profondeur limite supérieure (cm)")) 
 #filter out all data that isn't on the slope (drainage type DLS) and make smaller usable dataframe
Augur <- Augur_NA %>% na.omit   #take out NA variables

```

make a new column in which the textures are grouped based on the importance of silt present:


```{r make classes of textures}

Augur$Texture_class <- ifelse(Augur$`Texture corrigée 2023` %in% c("A", "Alo", "AS", "SA"), "C", ifelse(Augur$`Texture corrigée 2023` == "SL", "B", "A"))  #create new column with textures divided in three classes based upon their presence of silt

```

```{r group plots with buffer per auger}



```


```{r viewing data}

dataAugur2022 %>% select(`Texture corrigée 2023`)


dataAugur2022 %>% filter(sondage_N == 14.2)
dataBotany2022 %>% filter(TreeID == 142097)

xCenter <- 285471.9
yCenter <- 581503.4
radius <- 5

#take all data that is found within buffer length of a certain tree
for (x = xCenter - radius ; x <= xCenter; x++)
{
    for (y = yCenter - radius ; y <= yCenter; y++)
    {
        if ((x - xCenter)*(x - xCenter) + (y - yCenter)*(y - yCenter) <= r*r) 
        {
            xSym = xCenter - (x - xCenter);
            ySym = yCenter - (y - yCenter);
            // (x, y), (x, ySym), (xSym , y), (xSym, ySym) are in the circle
        }
    }
}
 
dataBotany2022 %>% filter(Ycoordinates.quadrant == c(1,2,3)) %>% filter(Xcoordinates.quadrant == c(7,8,9)) %>% select(TreeID) %>% count()  #this is the code to count the number of trees present on the plot for the augur 14.1 data

```


Idea now is to check link between texture_class and the aboveground biomass



